#!/bin/bash
# This is an example test script that will be run by the "/sbin/swd_init"
# entrypoint of Docker containers created from the seravo/wordpress:ci image.
# The default Travis CI configuration file .travis.yml in this repository starts
# a new container from the seravo/wordpress:ci image, and exits with the exit
# code from this script.
#
# Although this example CI test script file is written as a bash script, at will,
# it can as well be transformed to use interpreters of other scripting languages
# that are installed inside the container, like Python, for instance.

# Fail immediately on errors
set -e

## EXAMPLE: Import a default database dump to resemble the database contents
## of the production site.
# wp-db-load basedump.sql

# Prefer to install plugins via Composer ("composer install" is automatically
# run during container start), but here you can run e.g. WP-CLI commands to
# install themes/plugins.

## EXAMPLE: Run unit tests and static code analysis with e.g. PHPUnit and
## PHPCS, both of which are pre-installed inside the seravo/wordpress:ci
## image.
# phpunit
# phpcs --standard=phpcs.xml

# Run Codeception integration tests. Custom tests can be defined by following
# the guide at https://seravo.com/docs/tests/ng-integration-tests/.
wp-test
